<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Twitch Audio Player</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="favicon.ico" />
  <meta name="theme-color" content="#18181b" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>Twitch Audio Streamer</h1>
    <button id="darkModeToggle" aria-label="Toggle dark mode">ðŸŒ™</button>
  </header>

  <main>
    <section id="playerSection">
      <div id="nowPlaying" aria-live="polite"></div>

      <div id="loading" class="hidden">Connecting...</div>

      <iframe
        id="twitchPlayer"
        allow="autoplay"
        width="0"
        height="0"
        frameborder="0"
        scrolling="no"
      ></iframe>

      <div id="controls">
        <input
          type="text"
          id="channelInput"
          placeholder="Enter Twitch channel (e.g. pokimane)"
          autocomplete="off"
        />
        <button id="playBtn">Play</button>
        <button id="pauseBtn" disabled>Pause</button>
        <button id="muteBtn" aria-label="Mute/Unmute">ðŸ”Š</button>
        <button id="replayBtn" title="Reload Stream">âŸ³</button>
      </div>

      <div id="visualizer"></div>

      <div id="sleepTimerSection">
        <label for="sleepTimer">Sleep timer (minutes):</label>
        <input type="number" id="sleepTimer" min="1" max="120" />
        <button id="startSleepTimer">Start</button>
        <button id="cancelSleepTimer" disabled>Cancel</button>
        <div id="sleepTimerCountdown"></div>
      </div>
    </section>

    <aside id="sidebar" class="hidden" aria-label="Sidebar with history and settings">
      <button id="closeSidebarBtn" aria-label="Close sidebar">âœ–</button>
      <h2>Recent Channels</h2>
      <ul id="channelHistory"></ul>
    </aside>

    <button id="openSidebarBtn" aria-label="Open sidebar">â˜°</button>

    <button id="installBtn" class="hidden">Add to Home Screen</button>
  </main>

  <script src="app.js"></script>
</body>
</html>
